<firstClass>
	BoxLayout:
		orientation: "horizontal"
		# padding: 10
		canvas.before:
			Color:
				rgba: 0.9, 0.9, 0.9, 1
			Rectangle:
				pos: self.pos
				size: self.size
		BoxLayout:
			orientation: 'vertical'
			size_hint_x: 0.5
			size_hint_y: 0.8
			# padding: 20
			Image:
				source: "./train.png"
				# allow_stretch: True
				# size_hint_x: 0.5
				halign: 'center'
				size_hint: 0.5,0.5
				# on_press: root.trainClick()
				# pos_x: 100
				
			Label:
				text: 'Train'
				font_size: 75
				color:[ 0, 0, 0, 1 ]
				size_hint_y: 0.7

		BoxLayout:
			orientation:'vertical'
			size_hint_x: 0.5
			padding: 0.3
			Image:
				source: "./test.png"
				size_hint: 0.5,0.5
				halign: 'center'
				# size_hint_y: 0.7
				# allow_stretch: True
			Label:
				text: 'Test'
				font_size: 75
				size_hint_y: 0.3
				color:[ 0, 0, 0, 1 ]
			
<secondClass>:
	BoxLayout:
		orientation: 'vertical'
		padding: 10
		canvas.before:
			Color:
				rgba: 0.9, 0.9, 0.9, 1
			Rectangle:
				pos: self.pos
				size: self.size
		BoxLayout:
			id:title
			orientation: 'horizontal'
			size_hint: (1, 0.3)
			Label:
				font_size: 75
				text: "COLORISER"
				valign: 'middle'
				color: (0.3, 0.2, 0.2, 1)
				# size_hint_y: None
				height: 75

		BoxLayout:
			id:description
			orientation: 'horizontal'
			size_hint: (1, 0.2)
			# height: 90
			padding: 0,20
			# canvas.before:
		 #		Color:
		 #			rgba: 0, 1, 0, 1
		 #		Rectangle:
		 #			pos: self.pos
		 #			size: self.size

			Label:
				font_size: 25
				# text: 'self.pos: ' + str(self.pos) + "description.pos: " + str(description.pos ) 
				text: " Phase 1 of the project. Select the path of the dataset to process."
				valign: 'middle'
				max_lines: 3
				color: (0.3, 0.2, 0.2, 1)
				# size_hint_y: None
				# height: 40
				
		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1, 0.1)
			# height: 40
			canvas.before:
				Color:
					rgba: 0.8, 0.8, 0.8, 1
				Rectangle:
					pos: self.pos
					size: self.size
			id: secondBox
			Label:
				font_hinting: 'light'		
				id: luali
				font_size: 20
				max_lines: 1
				text: "Path to dataset"
				valign: 'middle'
				halign: 'right'
				color: (0, 0, 0, 1)
				size_hint: (0.5,1)

			TextInput:
				multiline: False
				valign: 'middle'	
				id: pathInput
				font_size: 20
				# height: 40
				text: "./dataset/train"
				on_text: root.pathset()
				size_hint: (0.5,1)

		BoxLayout:
			orientation: 'horizontal'
			background_color: (1, 0, 1, 1)
			padding: (root.width-150)/2 , 10
			size_hint: (1, 0.2)
			Button:
				id: beginButton 
				text: "Begin"
				valign: 'middle'
				halign: 'center'
				on_press: root.begin_phase_1()

		BoxLayout:
			orientation: 'horizontal'
			size_hint: (1, 0.1)
			ProgressBar:
				max: 100
				id: progressBarIndicator
			Label:
				id: progressLabel
				default: "disco"
				text: "0 %"
				color: (0, 0, 0, 1)

		BoxLayout:
			orientation: 'horizontal'
			size_hint: (1, 0.1)
			# size_hint_y: None
			# height: 50
			# padding: 0,20
			id: statusBox
			
			Label:
				id: statusBar
				# font_size: 15
				text: " Ready..."
				valign: 'middle'
				max_lines: 1
				color: (0.3, 0.2, 0.2, 1)
				# size_hint_y: None
				size_hint: (0.8,1)
				# height:10
			Button:
				id: nextBut
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Next"	
				# on_press: root.callThirdScreen()
				on_press:
					root.manager.transition.direction = 'left'
					root.manager.current = 'third_screen'


<thirdClass>:
	BoxLayout:
		orientation: 'vertical'
		padding: 10
		spacing: 10
		canvas.before:
			Color:
				rgba: 0.9, 0.9, 0.9, 1
			Rectangle:
				pos: self.pos
				size: self.size
		BoxLayout:
			id:title1
			orientation: 'horizontal'
			size_hint: (1,0.4)
			height: 25
			# canvas.before:
			# 	Color:
			# 		rgba: 1, 1, 0, 1
			# 	Rectangle:
			# 		pos: self.pos
			# 		size: self.size
			Label:
				font_size: 75
				text: "COLORISER"
				valign: 'middle'
				color: (0.3, 0.2, 0.2, 1)
		BoxLayout:
			id:description1
			orientation: 'horizontal'
			padding: 0,20
			size_hint: (1,0.3)
			# canvas.before:
			# 	Color:
			# 		rgba: 0, 1, 0, 1
			# 	Rectangle:
			# 		pos: self.pos
			# 		size: self.size
			Label:
				font_size: 25
				# text: 'self.pos: ' + str(self.pos) + "description.pos: " + str(description.pos ) 
				text: " Phase 2 of the project. Patience is the key to succeed this phase."
				valign: 'middle'

				max_lines: 3
				color: (0.3, 0.2, 0.2, 1)
				height: 40		

		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1,0.2)
			height: 40
			id: secondBox
			canvas.before:
				Color:
					rgba: 0.9, 0.9, 0.9, 1
				Rectangle:
					pos: self.pos
					size: self.size
			Button:
				id: a_model_but
				font_size: 20
				text: "Create_model_a"
				valign: 'middle'
				halign: 'right'
				color: (1, 1, 1, 1)
				on_press: root.begin_phase_2a()
			Button:
				id: b_model_but
				font_size: 20
				text: "Create_model_b"
				valign: 'middle'
				halign: 'right'
				color: (1, 1, 1, 1)
				on_press: root.begin_phase_2b()
		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1,0.1)
			height: 40
			Button:
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Back"	
				id: backBut
				on_press:
					root.manager.transition.direction = 'right'
					root.manager.current = 'second_screen'

			Label:
				id: statusBox
				size_hint: (0.6,1)
				text: "Ready"	
				color: (0, 0, 0, 1)
			Button:
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Next"
				id: nextBut
				on_press:
					root.manager.transition.direction = 'left'
					root.manager.current = 'fourth_screen'



<fourthClass>:
	BoxLayout:
		orientation: 'vertical'
		padding: 10
		canvas.before:
			Color:
				rgba: 0.9, 0.9, 0.9, 1
			Rectangle:
				pos: self.pos
				size: self.size
		BoxLayout:
			id:title
			orientation: 'horizontal'
			size_hint: (1, 0.3)
			# canvas.before:
		 #		Color:
		 #			rgba: 1, 1, 0, 1
		 #		Rectangle:
		 #			pos: self.pos
		 #			size: self.size
			Label:
				font_size: 75
				text: "COLORISER"
				valign: 'middle'
				color: (0.3, 0.2, 0.2, 1)
				height: 75

		BoxLayout:
			id:description
			orientation: 'horizontal'
			size_hint: (1, 0.2)
			# height: 90
			padding: 0,20
			# canvas.before:
		 #		Color:
		 #			rgba: 0, 1, 0, 1
		 #		Rectangle:
		 #			pos: self.pos
		 #			size: self.size

			Label:
				font_size: 25
				# text: 'self.pos: ' + str(self.pos) + "description.pos: " + str(description.pos ) 
				text: " Phase 3 of the project. Select the path of the testing dataset to process."
				valign: 'middle'
				max_lines: 3
				color: (0.3, 0.2, 0.2, 1)
				# size_hint_y: None
				# height: 40
				
		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1, 0.1)
			# height: 40
			canvas.before:
				Color:
					rgba: 0.8, 0.8, 0.8, 1
				Rectangle:
					pos: self.pos
					size: self.size
			id: secondBox
			Label:
				font_hinting: 'light'		
				id: luali
				font_size: 20
				max_lines: 1
				text: "Path to dataset"
				valign: 'middle'
				halign: 'right'
				color: (0, 0, 0, 1)
				size_hint: (0.5,1)

			TextInput:
				multiline: False
				valign: 'middle'	
				id: pathInput
				font_size: 20
				# height: 40
				text: "./dataset/test"
				on_text: root.pathset()
				size_hint: (0.5,1)

		BoxLayout:
			orientation: 'horizontal'
			background_color: (1, 0, 1, 1)
			padding: (root.width-150)/2 , 10
			size_hint: (1, 0.2)
			# canvas.before:
		 #		Color:
		 #			rgba: 1, 1, 0, 1
		 #		Rectangle:
		 #			pos: self.pos
		 #			size: self.size
			# pos_hint: {'center_x': 0.5}
			Button:
				# size_hint_y: None
				# size_hint_x: None
				# width: 30
				id: beginButton 
				# height: 30
				# width: 100
				text: "Begin"
				# font_size: 20
				valign: 'middle'
				halign: 'center'
				on_press: root.begin_phase_3()

		BoxLayout:
			orientation: 'horizontal'
			size_hint: (1, 0.1)
			ProgressBar:
				max: 100
				id: progressBarIndicator
			Label:
				id: progressLabel
				default: "disco"
				text: "0 %"
				color: (0, 0, 0, 1)

		BoxLayout:
			orientation: 'horizontal'
			size_hint: (1, 0.1)
			id: statusBox
			
			Button:
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Back"	
				id: backBut
				on_press:
					root.manager.transition.direction = 'right'
					root.manager.current = 'third_screen'
			Label:
				id: statusBar
				# font_size: 15
				text: " Ready..."
				valign: 'middle'
				max_lines: 1
				color: (0.3, 0.2, 0.2, 1)
				# size_hint_y: None
				size_hint: (0.6,1)
				# height:10
			Button:
				id: nextBut
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Next"
				on_press:
					root.manager.transition.direction = 'left'
					root.manager.current = 'fifth_screen'	

<fifthClass>:
	BoxLayout:
		orientation: 'vertical'
		padding: 10
		spacing: 10
		canvas.before:
			Color:
				rgba: 0.9, 0.9, 0.9, 1
			Rectangle:
				pos: self.pos
				size: self.size
		BoxLayout:
			id:title1
			orientation: 'horizontal'
			size_hint: (1,0.4)
			height: 25
			# canvas.before:
			# 	Color:
			# 		rgba: 1, 1, 0, 1
			# 	Rectangle:
			# 		pos: self.pos
			# 		size: self.size
			Label:
				font_size: 75
				text: "COLORISER"
				valign: 'middle'
				color: (0.3, 0.2, 0.2, 1)
		BoxLayout:
			id:description1
			orientation: 'horizontal'
			padding: 0,20
			size_hint: (1,0.3)
			# canvas.before:
			# 	Color:
			# 		rgba: 0, 1, 0, 1
			# 	Rectangle:
			# 		pos: self.pos
			# 		size: self.size
			Label:
				font_size: 25
				# text: 'self.pos: ' + str(self.pos) + "description.pos: " + str(description.pos ) 
				text: " Phase 4 of the project. Tests the image processed in the previous step."
				valign: 'middle'

				max_lines: 3
				color: (0.3, 0.2, 0.2, 1)
				height: 40		

		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1,0.2)
			height: 40
			id: secondBox
			canvas.before:
				Color:
					rgba: 0.9, 0.9, 0.9, 1
				Rectangle:
					pos: self.pos
					size: self.size
			Button:
				id: test_model_but
				font_size: 20
				text: "Begin Test"
				valign: 'middle'
				halign: 'right'
				color: (1, 1, 1, 1)
				on_press: root.beginTest()
		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1,0.1)
			height: 40
			Button:
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Back"	
				id: backBut
				on_press:
					root.manager.transition.direction = 'right'
					root.manager.current = 'fourth_screen'

			Label:
				id: statusBox
				size_hint: (0.6,1)
				text: "Ready"	
				color: (0, 0, 0, 1)
			Button:
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Next"
				id: nextBut
				on_press:
					root.manager.transition.direction = 'left'
					root.manager.current = 'sixth_screen'

<sixthClass>:
	__safe_id: [dropdown.__self__]
	BoxLayout:
		orientation: 'vertical'
		padding: 10
		spacing: 10
		canvas.before:
			Color:
				rgba: 0.9, 0.9, 0.9, 1
			Rectangle:
				pos: self.pos
				size: self.size
		# size_hint_y: None
		# height: '48dp'
		BoxLayout:
			id:title1
			orientation: 'horizontal'
			size_hint: (1,0.3)
			# canvas.before:
			# 	Color:
			# 		rgba: 1, 1, 0, 1
			# 	Rectangle:
			# 		pos: self.pos
			# 		size: self.size
			Label:
				size_hint: (1,0.8)
				text: "COLORISER"
				valign: 'middle'
				font_size: 60
				color: (0.3, 0.2, 0.2, 1)

		BoxLayout:
			id:title2
			orientation: 'horizontal'
			size_hint: (1,0.1)
			Label:
				size_hint: (0.34,1)
				text: "Grayscale image"
				# valign: 'middle'
				color: (0.3, 0.2, 0.2, 1)
			Label:
				size_hint: (0.34,1)
				text: "Predicted Image"
				# valign: 'middle'
				color: (0.3, 0.2, 0.2, 1)
			Label:
				size_hint: (0.3,1)
				text: "Ground Truth"
				# valign: 'middle'
				color: (0.3, 0.2, 0.2, 1)	

			
		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1,0.5)
			height: 40
			id: secondBox
			canvas.before:
				Color:
					rgba: 0.9, 0.9, 0.9, 1
				Rectangle:
					pos: self.pos
					size: self.size

			Image:
				id: imageGray
				size_hint: (0.34,1)
				source: './splash.png'

			Image:
				id: imagePredicted
				size_hint: (0.34,1)
				source: './splash.png'
				# source: root.source

				# create initial image to be 400 pixels width
				# size: 400, 400 / self.image_ratio

				# add shadow background
				# canvas.before:
				# 	Color:
				# 		rgba: 1,1,1,1
				# 	BorderImage:
				# 		source: 'shadow32.png'
				# 		# border: (36,36,36,36)
				# 		size:(self.width+72, self.height+72)
				# 		# pos: (-36,-36)
			Image:
				id: imageGround
				size_hint: (0.34,1)
				source: './splash.png'


		BoxLayout:
			orientation: 'horizontal'
			# padding: 0,3,5,3
			spacing: 10
			size_hint: (1,0.1)
			height: 40
			Button:
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Back"	
				id: backBut
				on_press:
					root.manager.transition.direction = 'right'
					root.manager.current = 'fifth_screen'
			Button:
				size_hint: (0.6,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Back"	
				id: btn
				text: '-'
				on_release: dropdown.open(self)

				Widget:
					on_parent: dropdown.dismiss()
					# size_hint: (0.4,1)

				DropDown:
					id: dropdown
			Button:
				size_hint: (0.2,1)
				background_color: [0.3, 0.3, 0.3, 0.7]
				text: "Finish"
				id: nextBut
				on_press: app.get_running_app().stop() 
